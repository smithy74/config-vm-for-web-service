# Мануал по настроке ВМ (виртуальной машины) для веб-сервиса на хостинге

## Оглавление

1. [TimeWeb](#TimeWeb) \

   1.1. [Регистрация](#регистрация) \

   1.2. [Выбор сервера](#выбор-сервера) \

   1.3. [Покупка](#покупка) \

2. [Подключение к серверу](#подключение-к-серверу) \

   2.1. [Настройка ssh-ключа](#настройка-ssh) \

   2.2. [SSH подключение](#ssh-подключение) \

   2.3. [Работа с сервером через Visual Studio Code](#работа-с-сервером-через-VSC) \

3. [Настройка сервера](#настройка-сервера) \

   3.1. [Apache](#apache) \

<h2 id="TimeWeb">TimeWeb</h2>

<h3 id="регистрация">Регистрация</h3>
<h3 id="выбор-сервера">Выбор сервера</h3>
<h3 id="покупка">Покупка</h3>

<h2 id="подключение-к-серверу">Подключение к серверу</h2>

<h3 id="настройка-ssh">Настройка ssh-ключа</h3>
Как создать SSH-ключи
В Linux/macOS или Windows 10/11
Запустите терминал в Linux/macOS, либо утилиту cmd.exe или powershell.exe в Windows 10/11 и создайте пару ключей с помощью команды ssh-keygen:
 ssh-keygen -t ed25519
  
После выполнения команды укажите имена файлов, куда сохранятся ключи, и введите пароль для закрытого ключа. По умолчанию используется имя id_ed25519, ключи создаются в папке ~/.ssh текущего пользователя.
 Открытый ключ сохранится в файле <имя_ключа>.pub. Содержимое этого файла вставляется в поле SSH-ключ на странице создания ВМ. 
В Windows 7/8
Если на вашем компьютере установлена Windows 7 или 8, то создать SSH-ключи можно с помощью приложения PuTTY. Как это сделать, рассказывается в документации.
<h3 id="ssh-подключение">SSH подключение</h3>
Удалённое подключение к ВМ
Чтобы подключиться к запущенной ВМ (статус RUNNING) по протоколу SSH, используют утилиту ssh в Linux/macOS или Windows 10/11, программу PuTTY в Windows 7/8 или любой другой клиент SSH. 
Подключение по SSH в Linux/macOS или Windows 10/11
Откройте терминал в Linux/macOS или запустите PowerShell в Windows 10/11 и выполните команду:
ssh <имя_пользователя>@<публичный_IP-адрес_ВМ> 
Если у вас несколько закрытых ключей, укажите нужный:
ssh -i <путь_к_ключу/имя_файла_ключа> <имя_пользователя>@<публичный_IP-адрес_ВМ> 
При первом подключении может появиться предупреждение о неизвестном хосте:
The authenticity of host '130.193.40.101 (130.193.40.101)' can't be established.
ECDSA key fingerprint is SHA256:PoaSwqxRc8g6iOXtiH7ayGHpSN0MXwUfWHkGgpLELJ8.
Are you sure you want to continue connecting (yes/no)? 
Введите в терминале yes, нажмите Enter и вы окажетесь в консоли созданной ВМ.
image
Установите обновления. Для этого запустите в консоли команды:
sudo apt-get update
sudo apt-get upgrade 
<h3 id="работа-с-сервером-через-VSC">Работа с сервером через Visual Studio Code</h3>

<h2 id="настройка-сервера">Настройка сервера</h2>

<h3 id="apache">Apache</h3>


